<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ğŸ„ Merry Christmas NhÆ°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(to bottom,#020824,#071a52);
  color:white;
  text-align:center;
}
canvas{position:fixed;inset:0;pointer-events:none}
.container{
  position:relative;z-index:2;
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px;
}
h1{
  font-size:clamp(26px,5vw,46px);
  text-shadow:0 0 20px #7cf7ff;
}
p{max-width:600px;line-height:1.7;font-size:17px}
button{
  margin-top:18px;
  padding:12px 18px;
  border:none;
  border-radius:14px;
  font-weight:bold;
  cursor:pointer;
  background:linear-gradient(180deg,#fff,#dff7ff);
  box-shadow:0 10px 30px rgba(124,247,255,.3);
}
.tree{
  position:relative;
  width:260px;height:420px;
  margin-top:30px;
}
.star{
  position:absolute;top:-10px;left:50%;
  transform:translateX(-50%);
  width:50px;height:50px;
  background:gold;
  clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
  box-shadow:0 0 25px gold;
  animation:star 2s infinite;
}
@keyframes star{50%{transform:translateX(-50%) scale(1.1)}}
.layer{
  position:absolute;left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:130px solid transparent;
  border-right:130px solid transparent;
  border-bottom:140px solid #1fd36a;
}
.l1{top:60px;transform:translateX(-50%) scale(.9)}
.l2{top:130px}
.l3{top:220px;transform:translateX(-50%) scale(1.1)}
.trunk{
  position:absolute;bottom:20px;left:50%;
  transform:translateX(-50%);
  width:60px;height:80px;
  background:#5a351e;border-radius:10px;
}
.light{
  position:absolute;width:12px;height:12px;
  border-radius:50%;
  animation:blink 1.5s infinite alternate;
  box-shadow:0 0 15px currentColor;
}
@keyframes blink{to{opacity:.3}}

.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:10;
}
.modal.open{display:flex}
.letter{
  background:rgba(255,255,255,.1);
  backdrop-filter:blur(10px);
  padding:22px;
  border-radius:20px;
  max-width:600px;
}
</style>
</head>

<body>

<!-- ğŸµ MUSIC -->
<audio id="music" loop>
  <source src="noel.mp3" type="audio/mpeg">
</audio>

<canvas id="snow"></canvas>

<div class="container">
  <h1>ğŸ Merry Christmas NhÆ° ğŸ„</h1>
  <p>
    Noel nÃ y anh khÃ´ng mong gÃ¬ nhiá»u,<br>
    chá»‰ mong NhÆ° luÃ´n vui,<br>
    vÃ  luÃ´n á»Ÿ cáº¡nh anh má»—i mÃ¹a Ä‘Ã´ng vá». ğŸ’–
  </p>

  <button onclick="openLetter()">Má»Ÿ thiá»‡p cho NhÆ° ğŸ’Œ</button>
  <button onclick="toggleMusic()">ğŸ”Š Báº­t / Táº¯t nháº¡c</button>

  <div class="tree">
    <div class="star"></div>
    <div class="layer l1"></div>
    <div class="layer l2"></div>
    <div class="layer l3"></div>
<div class="trunk"></div>
  </div>
</div>

<div class="modal" id="modal">
  <div class="letter">
    <h2>Gá»­i NhÆ° â¤ï¸</h2>
    <p id="text"></p>
    <p style="text-align:right">â€” Anh ğŸ’•</p>
    <button onclick="closeLetter()">ÄÃ³ng</button>
  </div>
</div>

<script>
/* ===== Letter ===== */
const letter = `
NhÆ° Æ¡i,
GiÃ¡ng Sinh nÃ y anh chá»‰ muá»‘n nÃ³i ráº±ng:
Cáº£m Æ¡n em vÃ¬ Ä‘Ã£ Ä‘áº¿n bÃªn anh,
lÃ m cho nhá»¯ng ngÃ y bÃ¬nh thÆ°á»ng trá»Ÿ nÃªn áº¥m Ã¡p hÆ¡n.

ChÃºc em má»™t mÃ¹a Noel an lÃ nh,
tim luÃ´n áº¥m, máº¯t luÃ´n cÆ°á»i,
vÃ  tá»¥i mÃ¬nh sáº½ thÆ°Æ¡ng nhau tháº­t lÃ¢u nha. ğŸ„âœ¨
`;

/* ===== Modal ===== */
function openLetter(){
  document.getElementById("text").innerText = letter;
  document.getElementById("modal").classList.add("open");
}
function closeLetter(){
  document.getElementById("modal").classList.remove("open");
}

/* ===== Music ===== */
const music = document.getElementById("music");
let playing=false;
function toggleMusic(){
  if(!playing){music.play();playing=true;}
  else{music.pause();playing=false;}
}
// auto play after first touch (mobile rule)
document.body.addEventListener("click",()=>{
  if(!playing){music.play();playing=true;}
},{once:true});

/* ===== Snow ===== */
const canvas=document.getElementById("snow");
const ctx=canvas.getContext("2d");
function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
onresize=resize;resize();
const flakes=Array.from({length:150},()=>({
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  r:Math.random()*2+1,
  v:Math.random()*1.5+.5
}));
function snow(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="white";
  flakes.forEach(f=>{
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fill();
    f.y+=f.v;
    if(f.y>canvas.height){
      f.y=0;f.x=Math.random()*canvas.width;
    }
  });
  requestAnimationFrame(snow);
}
snow();

/* ===== Lights ===== */
const tree=document.querySelector(".tree");
["red","gold","cyan","pink","lime"].forEach((c,i)=>{
  for(let j=0;j<5;j++){
    const d=document.createElement("div");
    d.className="light";
    d.style.color=c;
    d.style.background=c;
    d.style.left=Math.random()*240+"px";
    d.style.top=(100+i*60+Math.random()*40)+"px";
    d.style.animationDelay=Math.random()+"s";
    tree.appendChild(d);
  }
});
</script>

</body>
</html>